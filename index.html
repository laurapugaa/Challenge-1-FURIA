<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BotFuria Chat</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="chat-container">
      <div class="chat-header">
        <img src="logo-pantera.png" alt="Logo FURIA" class="logo" />
        <h1>BOTFURIA</h1>
      </div>
      <div id="chat"></div>
      <div class="input-container">
        <input
          type="text"
          id="userInput"
          placeholder="Digite sua resposta..."
        />
        <button onclick="enviarResposta()">Enviar</button>
      </div>
    </div>

    <script>
      let estadoConversa = "menu-principal";
      const mensagensOutro = [];

      const perguntasMenu = {
        "menu-principal": {
          pergunta:
            "Olá, furioso(a)! O que você gostaria de descobrir sobre nós? 🐾🔥",
          opcoes: [
            "1. Curiosidades sobre a FURIA",
            "2. Calendário de jogos",
            "3. Resultados e estatísticas",
            "4. Quiz, qual seu nível de torcedor?",
            "5. Conhecendo jogadores",
            "6. Conteúdos e mídias",
            "7. Estilo e lifestyle",
            "8. Outro",
          ],
        },
        curiosidades: {
          pergunta: "O que você gostaria de descobrir? 🎯",
          opcoes: [
            "1. Estilo agressivo do arT",
            "2. Origem do nome FURIA",
            "3. Bordões da comunidade",
          ],
        },
        calendario: {
          pergunta: "Sobre o calendário, o que você quer ver? 🗓️",
          opcoes: ["1. Próximo jogo", "2. Calendário de jogos do mês"],
        },
        resultados: {
          pergunta: "Qual informação você quer sobre nossos resultados? 🎮",
          opcoes: [
            "1. Últimos jogos",
            "2. Vitórias do mês",
            "3. Jogador com mais kills",
          ],
        },
        quiz: {
          pergunta: "Quer participar de um quiz rápido? 🏆🔥",
          opcoes: ["Sim", "Não"],
        },
        jogadores: {
          pergunta: "Sobre qual jogador você quer saber mais? 👤",
          opcoes: ["1. KSCERATO", "2. yuurih", "3. arT"],
        },
        midias: {
          pergunta: "Que tipo de conteúdo você quer ver? 🎥",
          opcoes: ["1. Bastidores", "2. Melhores jogadas", "3. Documentário"],
        },
        estilo: {
          pergunta: "Sobre nosso estilo, o que você quer explorar? ✨",
          opcoes: ["1. Roupas", "2. Wallpapers", "3. Grito da torcida"],
        },
      };

      function enviarMensagem(mensagem, opcoes = []) {
        const chat = document.getElementById("chat");
        const msg = document.createElement("div");
        msg.className = "message bot-massage";

        const avatar = document.createElement("img");
        avatar.src = "avatar-pantera.png"; // caminho da imagem do avatar
        avatar.alt = "Bot Avatar";
        avatar.className = "avatar";

        // cria o texto
        const textContainer = document.createElement("div");
        textContainer.className = "text-container";
        textContainer.innerHTML = `<p>${mensagem}</p>`;

        msg.appendChild(avatar); // adiciona avatar primeiro
        msg.appendChild(textContainer); // depois o texto

        if (opcoes.length > 0) {
          const optionsDiv = document.createElement("div");
          optionsDiv.className = "options";
          opcoes.forEach((opcao) => {
            const btn = document.createElement("button");
            btn.innerText = opcao;
            btn.onclick = () => receberResposta(opcao.split(".")[0]);
            optionsDiv.appendChild(btn);
          });
          textContainer.appendChild(optionsDiv);
        }

        chat.appendChild(msg);
        chat.scrollTop = chat.scrollHeight;
      }

      function enviarResposta() {
        const input = document.getElementById("userInput");
        const resposta = input.value.trim();
        if (resposta) {
          receberResposta(resposta);
          input.value = "";
        }
      }

      function receberResposta(resposta) {
        resposta = resposta.trim().toLowerCase();

        if (estadoConversa === "menu-principal") {
          if (resposta >= 1 && resposta <= 8) {
            switch (resposta) {
              case "1":
                estadoConversa = "curiosidades";
                break;
              case "2":
                estadoConversa = "calendario";
                break;
              case "3":
                estadoConversa = "resultados";
                break;
              case "4":
                estadoConversa = "quiz";
                break;
              case "5":
                estadoConversa = "jogadores";
                break;
              case "6":
                estadoConversa = "midias";
                break;
              case "7":
                estadoConversa = "estilo";
                break;
              case "8":
                estadoConversa = "outro";
                break;
            }
            if (estadoConversa !== "outro") {
              enviarMensagem(
                perguntasMenu[estadoConversa].pergunta,
                perguntasMenu[estadoConversa].opcoes
              );
            } else {
              enviarMensagem("Pode digitar sua pergunta! 🐾");
            }
          } else {
            enviarMensagem("Escolha um número de 1 a 8, por favor. 🙏");
          }
        } else if (estadoConversa === "outro") {
          mensagensOutro.push(resposta);
          enviarMensagem(
            "Recebemos sua sugestão! 🐾 Voltando ao menu principal."
          );
          estadoConversa = "menu-principal";
          enviarMensagem(
            perguntasMenu["menu-principal"].pergunta,
            perguntasMenu["menu-principal"].opcoes
          );
        } else {
          if (resposta === "não" || resposta === "nao") {
            estadoConversa = "menu-principal";
            enviarMensagem(
              perguntasMenu["menu-principal"].pergunta,
              perguntasMenu["menu-principal"].opcoes
            );
          } else if (resposta === "sim" || (resposta >= 1 && resposta <= 3)) {
            enviarMensagem(
              "Show! Em breve vamos mostrar essa informação aqui! 🔥"
            );
            estadoConversa = "menu-principal";
            enviarMensagem(
              perguntasMenu["menu-principal"].pergunta,
              perguntasMenu["menu-principal"].opcoes
            );
          } else {
            enviarMensagem(
              'Por favor, responda com um número válido ou "Sim"/"Não".'
            );
          }
        }
      }

      // Inicializa o chat
      window.onload = () => {
        enviarMensagem(
          perguntasMenu["menu-principal"].pergunta,
          perguntasMenu["menu-principal"].opcoes
        );
      };
    </script>
    <script src="index.js"></script>
  </body>
</html>
