<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BotFuria Chat</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="chat-container">
      <div class="chat-header">
        <img src="logo-pantera.png" alt="Logo FURIA" class="logo" />
        <h1>BOTFURIA</h1>
      </div>
      <div id="chat"></div>
      <div class="input-container">
        <input
          type="text"
          id="userInput"
          placeholder="Digite sua resposta..."
        />
        <button onclick="enviarResposta()">Enviar</button>
      </div>
    </div>

    <script>
      let estadoConversa = "menu-principal";
      const mensagensOutro = [];

      const perguntasMenu = {
        "menu-principal": {
          pergunta:
            "OlÃ¡, furioso(a)! O que vocÃª gostaria de descobrir sobre nÃ³s? ğŸ¾ğŸ”¥",
          opcoes: [
            "1. Curiosidades sobre a FURIA",
            "2. CalendÃ¡rio de jogos",
            "3. Resultados e estatÃ­sticas",
            "4. Quiz, qual seu nÃ­vel de torcedor?",
            "5. Conhecendo jogadores",
            "6. ConteÃºdos e mÃ­dias",
            "7. Estilo e lifestyle",
            "8. Outro",
          ],
        },
        curiosidades: {
          pergunta: "O que vocÃª gostaria de descobrir? ğŸ¯",
          opcoes: [
            "1. Estilo agressivo do arT",
            "2. Origem do nome FURIA",
            "3. BordÃµes da comunidade",
          ],
        },
        calendario: {
          pergunta: "Sobre o calendÃ¡rio, o que vocÃª quer ver? ğŸ—“ï¸",
          opcoes: ["1. PrÃ³ximo jogo", "2. CalendÃ¡rio de jogos do mÃªs"],
        },
        resultados: {
          pergunta: "Qual informaÃ§Ã£o vocÃª quer sobre nossos resultados? ğŸ®",
          opcoes: [
            "1. Ãšltimos jogos",
            "2. VitÃ³rias do mÃªs",
            "3. Jogador com mais kills",
          ],
        },
        quiz: {
          pergunta: "Quer participar de um quiz rÃ¡pido? ğŸ†ğŸ”¥",
          opcoes: ["Sim", "NÃ£o"],
        },
        jogadores: {
          pergunta: "Sobre qual jogador vocÃª quer saber mais? ğŸ‘¤",
          opcoes: ["1. KSCERATO", "2. yuurih", "3. arT"],
        },
        midias: {
          pergunta: "Que tipo de conteÃºdo vocÃª quer ver? ğŸ¥",
          opcoes: ["1. Bastidores", "2. Melhores jogadas", "3. DocumentÃ¡rio"],
        },
        estilo: {
          pergunta: "Sobre nosso estilo, o que vocÃª quer explorar? âœ¨",
          opcoes: ["1. Roupas", "2. Wallpapers", "3. Grito da torcida"],
        },
      };

      function enviarMensagem(mensagem, opcoes = []) {
        const chat = document.getElementById("chat");
        const msg = document.createElement("div");
        msg.className = "message bot-massage";

        const avatar = document.createElement("img");
        avatar.src = "avatar-pantera.png"; // caminho da imagem do avatar
        avatar.alt = "Bot Avatar";
        avatar.className = "avatar";

        // cria o texto
        const textContainer = document.createElement("div");
        textContainer.className = "text-container";
        textContainer.innerHTML = `<p>${mensagem}</p>`;

        msg.appendChild(avatar); // adiciona avatar primeiro
        msg.appendChild(textContainer); // depois o texto

        if (opcoes.length > 0) {
          const optionsDiv = document.createElement("div");
          optionsDiv.className = "options";
          opcoes.forEach((opcao) => {
            const btn = document.createElement("button");
            btn.innerText = opcao;
            btn.onclick = () => receberResposta(opcao.split(".")[0]);
            optionsDiv.appendChild(btn);
          });
          textContainer.appendChild(optionsDiv);
        }

        chat.appendChild(msg);
        chat.scrollTop = chat.scrollHeight;
      }

      function enviarResposta() {
        const input = document.getElementById("userInput");
        const resposta = input.value.trim();
        if (resposta) {
          receberResposta(resposta);
          input.value = "";
        }
      }

      function receberResposta(resposta) {
        resposta = resposta.trim().toLowerCase();

        if (estadoConversa === "menu-principal") {
          if (resposta >= 1 && resposta <= 8) {
            switch (resposta) {
              case "1":
                estadoConversa = "curiosidades";
                break;
              case "2":
                estadoConversa = "calendario";
                break;
              case "3":
                estadoConversa = "resultados";
                break;
              case "4":
                estadoConversa = "quiz";
                break;
              case "5":
                estadoConversa = "jogadores";
                break;
              case "6":
                estadoConversa = "midias";
                break;
              case "7":
                estadoConversa = "estilo";
                break;
              case "8":
                estadoConversa = "outro";
                break;
            }
            if (estadoConversa !== "outro") {
              enviarMensagem(
                perguntasMenu[estadoConversa].pergunta,
                perguntasMenu[estadoConversa].opcoes
              );
            } else {
              enviarMensagem("Pode digitar sua pergunta! ğŸ¾");
            }
          } else {
            enviarMensagem("Escolha um nÃºmero de 1 a 8, por favor. ğŸ™");
          }
        } else if (estadoConversa === "outro") {
          mensagensOutro.push(resposta);
          enviarMensagem(
            "Recebemos sua sugestÃ£o! ğŸ¾ Voltando ao menu principal."
          );
          estadoConversa = "menu-principal";
          enviarMensagem(
            perguntasMenu["menu-principal"].pergunta,
            perguntasMenu["menu-principal"].opcoes
          );
        } else {
          if (resposta === "nÃ£o" || resposta === "nao") {
            estadoConversa = "menu-principal";
            enviarMensagem(
              perguntasMenu["menu-principal"].pergunta,
              perguntasMenu["menu-principal"].opcoes
            );
          } else if (resposta === "sim" || (resposta >= 1 && resposta <= 3)) {
            enviarMensagem(
              "Show! Em breve vamos mostrar essa informaÃ§Ã£o aqui! ğŸ”¥"
            );
            estadoConversa = "menu-principal";
            enviarMensagem(
              perguntasMenu["menu-principal"].pergunta,
              perguntasMenu["menu-principal"].opcoes
            );
          } else {
            enviarMensagem(
              'Por favor, responda com um nÃºmero vÃ¡lido ou "Sim"/"NÃ£o".'
            );
          }
        }
      }

      // Inicializa o chat
      window.onload = () => {
        enviarMensagem(
          perguntasMenu["menu-principal"].pergunta,
          perguntasMenu["menu-principal"].opcoes
        );
      };
    </script>
    <script src="index.js"></script>
  </body>
</html>
